<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #4CAF50;
        }
        .product {
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }
        .product:last-child {
            border-bottom: none;
        }
        .product-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .product-info {
            margin: 10px 0;
        }
        .product-info span {
            font-weight: bold;
        }
        .price {
            font-size: 22px;
            color: #d9534f;
        }
        .original-price {
            text-decoration: line-through;
            color: #777;
        }
        .rating {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        .rating span {
            margin-left: 5px;
        }
        .discount-info {
            color: #5bc0de;
            font-weight: bold;
        }
        .discount-descriptor {
            margin-top: 20px;
            font-style: italic;
            color: #555;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Product Details</h1>

    <div id="products-list"></div> <!-- Сюда будет вставляться список товаров -->
</div>

<script>
    // Функция для получения данных с API и отображения списка товаров
async function fetchProductDetails() {
    try {
        const response = await fetch('https://dear-sure-kangaroo.ngrok-free.app/games');
        const data = await response.json(); // Ожидаем объект с ключом games
        const products = data.games; // Извлекаем массив из ключа games

        // Проверяем, что это массив
        if (!Array.isArray(products)) {
            throw new Error('Expected an array but got something else');
        }

        const productsListContainer = document.getElementById('products-list');
        productsListContainer.innerHTML = ''; // Очищаем контейнер перед добавлением новых данных

        products.forEach(product => {
            // Создаем новый элемент для каждого продукта
            const productElement = document.createElement('div');
            productElement.classList.add('product');

            // Вставляем данные о продукте
            productElement.innerHTML = `
                <div class="product-title">${product.title}</div>
                <div class="price">$${product.price}</div>
                <div class="original-price">$${product.original_price}</div>
                <div class="discount-info">${product.discount_info}</div>
                <div class="discount-descriptor">Offer valid until: ${product.discount_descriptor}</div>
            `;

            // Добавляем элемент в список
            productsListContainer.appendChild(productElement);
        });
    } catch (error) {
        console.error('Error fetching product data:', error);
    }
}

    // Загружаем данные при загрузке страницы
    window.onload = fetchProductDetails;
</script>

</body>
</html>

